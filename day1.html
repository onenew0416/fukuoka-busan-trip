<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 1: å‡ºç™¼ä½è³€&ç¦å²¡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* å‹•ç•« */
        .modal-enter { animation: slideUp 0.3s ease-out forwards; }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* è‡ªè¨‚ç¶ è‰²è®Šæ•¸ RGB(0, 140, 0) */
        .text-custom-green { color: rgb(0, 140, 0); }
        .bg-custom-green { background-color: rgb(0, 140, 0); }
        .border-custom-green { border-color: rgb(0, 140, 0); }
        .ring-custom-green { --tw-ring-color: rgb(0, 140, 0); }
        
        /* æ¼¸å±¤èƒŒæ™¯ */
        .bg-gradient-custom { background: linear-gradient(135deg, rgb(0, 140, 0) 0%, rgb(0, 100, 0) 100%); }
    </style>
</head>
<body class="bg-green-50 text-slate-800 pb-24">

    <div class="p-6 pt-10 flex justify-between items-end">
        <div>
            <h1 class="text-2xl font-bold text-slate-800">Fukuoka ğŸ‡¯ğŸ‡µ x Busan ğŸ‡°ğŸ‡·</h1>
        </div>
    </div>

    <div class="flex overflow-x-auto px-4 space-x-3 hide-scroll mb-6 pb-2">
        <a href="index.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-400 transition-transform active:scale-95">
            <i class="fas fa-suitcase mb-1 text-lg"></i>
            <span class="text-xs font-bold">ç›®éŒ„</span>
        </a>

        <div id="active-tab" class="flex-shrink-0 w-16 h-24 bg-custom-green rounded-2xl flex flex-col justify-center items-center shadow-lg shadow-green-200 text-white relative">
            <span class="text-[10px] text-green-100">Day 1</span>
            <span class="text-lg font-bold my-0.5">02/24</span>
            <span>(äºŒ)</span>
            <div class="absolute -bottom-1 w-1 h-1 bg-white rounded-full"></div>
        </div>

        <a href="day2.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 2</span><span class="text-lg font-bold text-slate-700 my-0.5">02/25</span><span>(ä¸‰)</span></a>        
        <a href="day3.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 3</span><span class="text-lg font-bold text-slate-700 my-0.5">02/26</span><span>(å››)</span></a>
        <a href="day4.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 4</span><span class="text-lg font-bold text-slate-700 my-0.5">02/27</span><span>(äº”)</span></a>
        <a href="day5.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 5</span><span class="text-lg font-bold text-slate-700 my-0.5">02/28</span><span>(å…­)</span></a>
        <a href="day6.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 6</span><span class="text-lg font-bold text-slate-700 my-0.5">03/01</span><span>(æ—¥)</span></a>
        <a href="day7.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 7</span><span class="text-lg font-bold text-slate-700 my-0.5">03/02</span><span>(ä¸€)</span></a>
        <a href="day8.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 8</span><span class="text-lg font-bold text-slate-700 my-0.5">03/03</span><span>(äºŒ)</span></a>
        <a href="day9.html" class="flex-shrink-0 w-16 h-24 bg-white rounded-2xl flex flex-col justify-center items-center shadow-sm text-slate-500 text-xs leading-tight block transition active:scale-95"><span class="text-[10px] text-slate-400">Day 9</span><span class="text-lg font-bold text-slate-700 my-0.5">03/04</span><span>(ä¸‰)</span></a>
    </div>

    <div class="mx-4 mb-6 p-5 bg-green-100 rounded-3xl shadow-sm flex items-center justify-between relative overflow-hidden">
        <div class="z-10">
            <div class="flex items-start"><span class="text-4xl font-bold text-slate-800">8Â°</span><span class="text-xl font-bold mt-1 ml-1">C</span></div>
            <div class="text-xs text-slate-500 mt-1">é«”æ„Ÿ 5Â° C Â· æ™´æ™‚å¤šé›²</div>
        </div>
        <div class="z-10 text-right">
            <span class="bg-white/50 px-2 py-1 rounded-lg text-xs font-bold text-slate-600"><i class="fas fa-map-marker-alt"></i> ä½è³€ / ç¦å²¡</span>
            <i class="fas fa-cloud-sun text-4xl text-yellow-500 block mt-2"></i>
        </div>
    </div>

    <div class="mx-4 flex justify-between items-center mb-4">
        <h2 class="text-lg font-bold bg-green-200/50 px-3 py-1 rounded-lg text-slate-700">è¡Œç¨‹å®‰æ’</h2>
        <button onclick="openModal()" class="bg-slate-700 text-white px-4 py-1.5 rounded-full text-sm shadow-md active:scale-95 transition-transform hover:bg-slate-800">
            + æ–°å¢
        </button>
    </div>

    <div id="schedule-container" class="space-y-4 pb-4"></div>

    <div id="add-modal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white w-[90%] max-w-sm rounded-3xl p-6 shadow-2xl modal-enter overflow-y-auto max-h-[90vh]">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-xl font-bold text-slate-800">æ–°å¢è¡Œç¨‹</h3>
                <button onclick="closeModal()" class="text-slate-400 hover:text-slate-600"><i class="fas fa-times text-xl"></i></button>
            </div>
            <form id="add-form" onsubmit="handleFormSubmit(event)">
                <input type="hidden" id="input-id">
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1">é¡å‹</label>
                        <select id="input-type" onchange="toggleFlightInputs()" class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green appearance-none">
                            <option value="spot">ğŸ“ æ™¯é»</option>
                            <option value="food">ğŸœ é¤é£²</option>
                            <option value="train">ğŸš† äº¤é€š</option>
                            <option value="bus">ğŸšŒ å·´å£«</option>
                            <option value="flight">âœˆï¸ èˆªç­</option>
                            <option value="shop">ğŸ›ï¸ è³¼ç‰©</option>
                            <option value="car">ğŸš— ç§Ÿè»Š</option>
                            <option value="hotel">ğŸ¨ ä½å®¿</option>
                        </select>
                    </div>

                    <div class="flex gap-3">
                        <div class="flex-1">
                            <label id="label-time-start" class="block text-xs font-bold text-slate-500 mb-1">æ™‚é–“</label>
                            <input type="time" id="input-time" required class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green">
                        </div>
                        
                        <div id="arrival-time-block" class="flex-1 hidden">
                            <label class="block text-xs font-bold text-slate-500 mb-1">æŠµé”æ™‚é–“</label>
                            <input type="time" id="input-time-end" class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green">
                        </div>
                    </div>

                    <div>
                        <label id="label-title" class="block text-xs font-bold text-slate-500 mb-1">æ¨™é¡Œ</label>
                        <input type="text" id="input-title" placeholder="ä¾‹å¦‚ï¼šHB320 æˆ– å‰å¾€æ–°å®¿" required class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green">
                    </div>
                    <div>
                        <label id="label-sub" class="block text-xs font-bold text-slate-500 mb-1">åœ°é» / å‚™è¨»</label>
                        <input type="text" id="input-sub" placeholder="ä¾‹å¦‚ï¼šTPE å°åŒ—(æ¡ƒåœ’) - HSG ä½è³€" class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green">
                        <p id="flight-hint" class="text-[10px] text-slate-400 mt-1 hidden">æ ¼å¼å»ºè­°ï¼šTPE å°åŒ—(æ¡ƒåœ’) - HSG ä½è³€ (å°‡è‡ªå‹•è­˜åˆ¥)</p>
                    </div>

                    <div class="pt-2 border-t border-slate-100">
                        <div class="flex gap-3">
                            <div class="flex-1">
                                <label class="block text-xs font-bold text-slate-500 mb-1">é€£çµåç¨±</label>
                                <input type="text" id="input-link-text" placeholder="ä¾‹å¦‚ï¼šå°èˆª" class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green text-sm">
                            </div>
                            <div class="flex-[2]">
                                <label class="block text-xs font-bold text-slate-500 mb-1">é€£çµç¶²å€</label>
                                <input type="url" id="input-link" placeholder="https://..." class="w-full bg-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-custom-green text-sm">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" id="submit-btn" class="w-full bg-custom-green text-white font-bold py-3 rounded-xl mt-6 shadow-lg shadow-green-300 hover:bg-[#008c00] transition">ç¢ºèªæ–°å¢</button>
            </form>
        </div>
    </div>

    <div class="fixed bottom-6 left-4 right-4 bg-white rounded-full shadow-2xl py-3 px-6 flex justify-between items-center z-40">
        <div class="flex flex-col items-center text-custom-green cursor-pointer">
            <i class="fas fa-suitcase text-lg mb-1"></i>
            <span class="text-[10px] font-bold">è¡Œç¨‹</span>
        </div>
        <a href="map.html" class="flex flex-col items-center text-slate-400 hover:text-custom-green cursor-pointer">
            <i class="fas fa-clipboard-list text-lg mb-1"></i>
            <span class="text-[10px]">åœ°åœ–</span>
        </a>
        <div class="flex flex-col items-center text-slate-400 hover:text-custom-green cursor-pointer">
            <i class="fas fa-wallet text-lg mb-1"></i>
            <span class="text-[10px]">è¨˜å¸³</span>
        </div>
        <div class="flex flex-col items-center text-slate-400 hover:text-custom-green cursor-pointer">
            <i class="fas fa-shopping-bag text-lg mb-1"></i>
            <span class="text-[10px]">è³¼ç‰©</span>
        </div>
        <div class="flex flex-col items-center text-slate-400 hover:text-custom-green cursor-pointer">
            <i class="fas fa-info-circle text-lg mb-1"></i>
            <span class="text-[10px]">è³‡è¨Š</span>
        </div>
    </div>

    <script>
        // åˆ‡æ›é¡¯ç¤ºæŠµé”æ™‚é–“èˆ‡æç¤º
        function toggleFlightInputs() {
            const type = document.getElementById('input-type').value;
            const arrivalBlock = document.getElementById('arrival-time-block');
            const startLabel = document.getElementById('label-time-start');
            const hint = document.getElementById('flight-hint');
            
            if (type === 'flight') {
                arrivalBlock.classList.remove('hidden');
                startLabel.innerText = 'å‡ºç™¼æ™‚é–“';
                hint.classList.remove('hidden');
            } else {
                arrivalBlock.classList.add('hidden');
                startLabel.innerText = 'æ™‚é–“';
                hint.classList.add('hidden');
            }
        }

        // 1. Day 1 è©³ç´°è³‡æ–™
        let scheduleData = [
            {
                id: 1, type: 'bus', time: '01:00',
                title: 'å°ä¸­è»Šç«™ - æ¡ƒåœ’æ©Ÿå ´', 
                location: 'çµ±è¯å®¢é‹', 
                note: 'å‰å¾€ç¬¬ä¸€èˆªå»ˆ', 
                icon: 'fa-bus',
                link: '', linkText: ''
            },
            {
                id: 2, type: 'flight', time: '06:05', timeEnd: '09:20',
                title: 'æ¡ƒåœ’æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆç¬¬ 7 æ«ƒæª¯', 
                location: 'TPE å°åŒ—(æ¡ƒåœ’) - HSG ä½è³€', 
                note: 'å·²ç¢ºèª', 
                icon: 'fa-plane',
                link: '', linkText: ''
            },
            {
                id: 3, type: 'car', time: '10:00', 
                title: 'ç§Ÿè»Šå–è»Š', 
                location: 'ä½è³€æ©Ÿå ´', 
                note: 'éœ€å‚™æ—¥æ–‡è­¯æœ¬', 
                icon: 'fa-car',
                link: 'https://www.pref.saga.lg.jp/airport/kiji00312799/index.html',
                linkText: 'é ç´„é€£çµ'
            },
            {
                id: 4, type: 'spot', time: '11:30', 
                title: 'Greenland éŠæ¨‚åœ’', 
                location: 'ç†Šæœ¬ç¸£è’å°¾å¸‚', 
                note: 'éŠç©è‡³ä¸‹åˆ', 
                icon: 'fa-ticket-alt',
                link: 'https://maps.app.goo.gl/Q6kiKhNs5ZWVQWbN9',
                linkText: 'å°èˆª'
            },
            {
                id: 5, type: 'car', time: '16:00', 
                title: 'é‚„è»Š', 
                location: 'æ–°é³¥æ –è»Šç«™', 
                note: 'æª¢æŸ¥éš¨èº«ç‰©å“', 
                icon: 'fa-key',
                link: '', linkText: ''
            },
            {
                id: 6, type: 'train', time: '16:30', 
                title: 'æ–°å¹¹ç·š: æ–°é³¥æ – - åšå¤š', 
                location: 'å¾€åšå¤šæ–¹å‘', 
                note: 'ç§»å‹•è‡³ç¦å²¡', 
                icon: 'fa-train',
                link: '', linkText: ''
            },
            {
                id: 7, type: 'subway', time: '17:15', 
                title: 'åœ°éµ: åšå¤š - å¤§æ¿ å…¬åœ’', 
                location: 'æ©Ÿå ´ç·š å¾€å§ªæ¿±', 
                note: 'è²»ç”¨ JPY 260', 
                icon: 'fa-subway',
                link: '', linkText: ''
            },
            {
                id: 8, type: 'hotel', time: '18:00', 
                title: 'UNPLAN Fukuoka', 
                location: 'å¤§æ¿ å…¬åœ’ç«™ 4è™Ÿå‡ºå£', 
                note: 'Check-in', 
                icon: 'fa-bed',
                link: 'https://maps.app.goo.gl/F9gh33cWVJXq6LnQ6',
                linkText: 'ä½å®¿åœ°åœ–'
            },
            {
                id: 9, type: 'shop', time: '19:00', 
                title: 'å¤©ç¥åœ°ä¸‹è¡—', 
                location: 'å¤©ç¥ç«™', 
                note: 'é€›è¡—æ™šé¤', 
                icon: 'fa-shopping-bag',
                link: '', linkText: ''
            }
        ];

        // 2. æ¸²æŸ“é‚è¼¯
        function renderSchedules() {
            const container = document.getElementById('schedule-container');
            container.innerHTML = '';
            
            scheduleData.sort((a, b) => a.time.localeCompare(b.time));

            scheduleData.forEach(item => {
                let html = '';
                
                // é€£çµæŒ‰éˆ•é‚è¼¯
                const linkBtn = item.link ? 
                    `<a href="${item.link}" target="_blank" class="mt-2 inline-block bg-slate-100 text-custom-green px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-green-100 transition">
                        <i class="fas fa-external-link-alt mr-1"></i> ${item.linkText || 'æŸ¥çœ‹'}
                    </a>` : '';

                const actionBtns = (isLight = false) => `
                    <div class="flex space-x-3 z-20 relative">
                        <button onclick="editItem(${item.id})" class="${isLight ? 'text-white/70 hover:text-white' : 'text-slate-300 hover:text-custom-green'} transition">
                            <i class="fas fa-pen"></i>
                        </button>
                        <button onclick="deleteItem(${item.id})" class="${isLight ? 'text-white/70 hover:text-red-200' : 'text-slate-300 hover:text-red-500'} transition">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>`;

                if (item.type === 'flight') {
                    // è‡ªå‹•è§£æ Location å­—ä¸²: "TPE å°åŒ—(æ¡ƒåœ’) - HSG ä½è³€"
                    let fromCode = 'DEP', fromName = '', toCode = 'ARR', toName = '';
                    
                    if (item.location && item.location.includes('-')) {
                        const parts = item.location.split(/[-â€“â€”>]/); // åˆ†å‰²
                        if(parts.length >= 2) {
                            const fromPart = parts[0].trim().split(' ');
                            fromCode = fromPart[0] || 'DEP';
                            fromName = fromPart.slice(1).join(' ') || '';

                            const toPart = parts[1].trim().split(' ');
                            toCode = toPart[0] || 'ARR';
                            toName = toPart.slice(1).join(' ') || '';
                        }
                    } else {
                        fromCode = item.location;
                    }

                    html = `
                    <div class="mx-4 p-5 bg-gradient-custom rounded-3xl shadow-lg shadow-green-200 text-white relative transform transition hover:scale-[1.02]">
                        <div class="flex justify-between items-start mb-4">
                            <span class="bg-white/20 px-2 py-0.5 rounded text-xs font-bold uppercase">FLIGHT</span>
                            ${actionBtns(true)}
                        </div>

                        <div class="flex justify-between items-center px-1 mb-4">
                            <div class="text-center flex flex-col items-center">
                                <div class="text-2xl font-bold mb-1">${item.time}</div>
                                <div class="text-[10px] text-green-100 font-bold mb-0.5">FROM</div>
                                <div class="text-3xl font-bold tracking-wider">${fromCode}</div>
                                <div class="text-xs mt-0.5">${fromName}</div>
                            </div>

                            <div class="flex-1 mx-4 flex flex-col items-center pb-4">
                                <i class="fas fa-plane text-2xl mb-1 transform rotate-45 text-white/90"></i>
                                <div class="w-full border-t border-dashed border-white/40"></div>
                            </div>

                            <div class="text-center flex flex-col items-center">
                                <div class="text-2xl font-bold mb-1">${item.timeEnd || '--:--'}</div>
                                <div class="text-[10px] text-green-100 font-bold mb-0.5">TO</div>
                                <div class="text-3xl font-bold tracking-wider">${toCode}</div>
                                <div class="text-xs mt-0.5">${toName}</div>
                            </div>
                        </div>

                        <div class="flex justify-between items-center border-t border-white/10 pt-3">
                            <div class="text-sm font-medium">${item.title}</div>
                            <div class="bg-white/20 px-2 py-1 rounded text-[10px] font-bold">å·²ç¢ºèª</div>
                        </div>
                    </div>`;
                } else {
                    // é€šç”¨å¡ç‰‡
                    let iconBg = 'bg-custom-green'; 
                    if (item.type === 'food') iconBg = 'bg-orange-400';
                    if (item.type === 'shop') iconBg = 'bg-pink-400';
                    if (item.type === 'hotel') iconBg = 'bg-indigo-400';
                    if (item.type === 'car') iconBg = 'bg-blue-500';

                    html = `
                    <div class="mx-4 bg-white rounded-3xl shadow-sm p-5 flex transform transition hover:scale-[1.02]">
                        <div class="flex flex-col items-center mr-4">
                            <div class="w-12 h-12 ${iconBg} rounded-2xl flex items-center justify-center text-white text-xl mb-2 shadow-md">
                                <i class="fas ${item.icon}"></i>
                            </div>
                            <div class="text-sm font-bold text-slate-700">${item.time}</div>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between items-start">
                                <h3 class="font-bold text-lg text-slate-800">${item.title}</h3>
                                ${actionBtns(false)}
                            </div>
                            <div class="flex items-center text-xs text-slate-500 mt-1 mb-1">
                                <span class="text-custom-green font-bold mr-2"><i class="fas fa-map-pin"></i></span>
                                <span>${item.location}</span>
                            </div>
                            ${item.note ? `<div class="text-xs text-slate-400 mb-1">${item.note}</div>` : ''}
                            ${linkBtn}
                        </div>
                    </div>`;
                }
                container.innerHTML += html;
            });
        }

        function openModal() { 
            document.getElementById('add-form').reset();
            document.getElementById('input-id').value = ''; 
            document.getElementById('modal-title').innerText = 'æ–°å¢è¡Œç¨‹';
            document.getElementById('submit-btn').innerText = 'ç¢ºèªæ–°å¢';
            toggleFlightInputs(); 
            document.getElementById('add-modal').classList.remove('hidden'); 
        }

        function closeModal() { document.getElementById('add-modal').classList.add('hidden'); }
        document.getElementById('add-modal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });

        function deleteItem(id) {
            if(confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹è¡Œç¨‹å—ï¼Ÿ')) {
                scheduleData = scheduleData.filter(item => item.id !== id);
                renderSchedules();
            }
        }

        function editItem(id) {
            const item = scheduleData.find(i => i.id === id);
            if(item) {
                document.getElementById('input-id').value = item.id;
                document.getElementById('input-type').value = item.type;
                toggleFlightInputs(); 

                document.getElementById('input-time').value = item.time;
                if(item.type === 'flight') {
                    document.getElementById('input-time-end').value = item.timeEnd || '';
                }

                document.getElementById('input-title').value = item.title;
                document.getElementById('input-sub').value = item.location;
                // è¼‰å…¥é€£çµè³‡è¨Š
                document.getElementById('input-link').value = item.link || '';
                document.getElementById('input-link-text').value = item.linkText || '';
                
                document.getElementById('modal-title').innerText = 'ç·¨è¼¯è¡Œç¨‹';
                document.getElementById('submit-btn').innerText = 'å„²å­˜è®Šæ›´';
                document.getElementById('add-modal').classList.remove('hidden');
            }
        }

        function handleFormSubmit(e) {
            e.preventDefault();
            const idInput = document.getElementById('input-id').value;
            const time = document.getElementById('input-time').value;
            const timeEnd = document.getElementById('input-time-end').value;
            const type = document.getElementById('input-type').value;
            const title = document.getElementById('input-title').value;
            const sub = document.getElementById('input-sub').value;
            const link = document.getElementById('input-link').value;
            const linkText = document.getElementById('input-link-text').value;

            let icon = 'fa-map-marker-alt';
            if(type==='train'||type==='subway') icon='fa-train'; 
            if(type==='flight') icon='fa-plane'; 
            if(type==='food') icon='fa-utensils';
            if(type==='shop') icon='fa-shopping-bag';
            if(type==='car') icon='fa-car';
            if(type==='hotel') icon='fa-bed';
            if(type==='bus') icon='fa-bus';

            let newItem = { 
                id: idInput ? parseInt(idInput) : Date.now(), 
                type, time, timeEnd, title, location: sub, 
                note: '', icon, 
                link: link, linkText: linkText 
            };
            
            if(idInput) {
                const index = scheduleData.findIndex(i => i.id == idInput);
                if(index !== -1) {
                    scheduleData[index] = { ...scheduleData[index], ...newItem };
                }
            } else {
                scheduleData.push(newItem);
            }
            
            renderSchedules();
            closeModal();
        }

        renderSchedules();
        window.addEventListener('load', function() {
        const activeTab = document.getElementById('active-tab');
        if (activeTab) {
            // é€™è¡Œæœƒè®“ active-tab è‡ªå‹•æ²å‹•åˆ°è¦–çª—ä¸­å¤®
            activeTab.scrollIntoView({ behavior: 'auto', block: 'nearest', inline: 'center' });
        }
        });
    </script>
</body>
</html>